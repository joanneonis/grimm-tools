{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./helpers/loadJSON.js","webpack:///./tools/compromise/main.js"],"names":["loadJSON","fileName","callback","type","xobj","XMLHttpRequest","overrideMimeType","open","onreadystatechange","e","readyState","status","responseText","console","log","timeStampToTime","timeStamp","send","pad","num","size","s","length","unix_timestamp","date","Date","hours","getHours","minutes","getMinutes","seconds","getSeconds","substr","storyCount","stories","paragrahTable","sentenceTable","wordTable","wordLengthsTable","i","response","normalisedStory","window","nlp","normalize","out","replace","compromise","sentences","data","paragraphTest","match","paragraphs","split","storyId","paragraphCount","sentenceCount","sentencesPerParagraph","test","wordCountsPerSentence","forEach","paragraph","x","push","container","document","querySelector","innerHTML","JSON","stringify","wordsPerSentence","lenght","Object","keys","z","normalisedSentence","normal","words","sentenceArray","storyIndex","raw","totalCount","target","sentence","regex","RegExp","countOccurances","testWords","tempWordArray","wordCountPerSentence","WordCount","str","drawTable","count","table","listItem","createElement","rowContent","appendChild"],"mappings":"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","file":"sentences.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./tools/compromise/main.js\");\n","export function loadJSON(fileName, callback, type) {   \n\tvar xobj = new XMLHttpRequest();\n      if (type === 'json') { xobj.overrideMimeType(\"application/json\"); }\n\t\t\txobj.open('GET', fileName, true);\n\t\t\txobj.onreadystatechange = function (e) {\n\t\t\t\tif (xobj.readyState == 4 && xobj.status == \"200\") {\n\t\t\t\t\t// Required use of an anonymous callback as .open will NOT return a value but simply returns undefined in asynchronous mode\n\t\t\t\t\tcallback(xobj.responseText);\n\t\t\t\t\tconsole.log(`loaded ${fileName} - ${timeStampToTime(e.timeStamp)}`);\n\t\t\t\t}\n\t};\n\txobj.send(null);\n}\n\nexport function pad(num, size) {\n  var s = num+\"\";\n  while (s.length < size) s = \"0\" + s;\n  return s;\n}\n\nfunction timeStampToTime(unix_timestamp) {\n\t// Create a new JavaScript Date object based on the timestamp\n\t// multiplied by 1000 so that the argument is in milliseconds, not seconds.\n\tvar date = new Date(unix_timestamp*1000);\n\t// Hours part from the timestamp\n\tvar hours = date.getHours();\n\t// Minutes part from the timestamp\n\tvar minutes = \"0\" + date.getMinutes();\n\t// Seconds part from the timestamp\n\tvar seconds = \"0\" + date.getSeconds();\n\n\n\treturn hours + ':' + minutes.substr(-2) + ':' + seconds.substr(-2);\n}","// sentences()\nimport { loadJSON, pad } from '../../helpers/loadJSON';\n\nlet storyCount = 209;\nlet stories = {};\n\nlet paragrahTable = {};\nlet sentenceTable = {};\nlet wordTable = {};\nlet wordLengthsTable = {};\n\nfor (let i = 0; i < storyCount; i++) {\n  loadJSON(`../../assets/stories/${pad(i + 1, 3)}.txt`, function(response) {\n\t\tlet normalisedStory = window.nlp(response).normalize().out('text');\t\n\t\tnormalisedStory = normalisedStory.replace(/[,\\/#!$%\\^&\\*;:{}=\\-_`~()?!]/g,\"\");\n\n    let compromise = window.nlp(normalisedStory).normalize().sentences().data();\n\t\tvar paragraphTest = (response.match(/[\\r\\n]{2,}/gm) || '').length + 1;\n\t\tvar paragraphs = (response.split(/[\\r\\n]{2,}/gm));\n\n\t\tparagrahTable[i] = {\n\t\t\tstoryId: i,\n\t\t\tparagraphCount: paragraphTest,\n\t\t\tsentenceCount: compromise.length,\n\t\t\tsentencesPerParagraph: [],\n\t\t};\n\n\t\tvar test = [];\n\n\t\twordLengthsTable[i] = {\n\t\t\tstoryId: i,\n\t\t\twordCountsPerSentence: [],\n\t\t}\n\n\t\tparagraphs.forEach((paragraph, x) => {\n\t\t\ttest.push(window.nlp(paragraph).sentences().data().length);\n\n\t\t\t//? Word stuff\n\t\t\t// wordLengthsTable[i].wordCountsPerSentence.push([]);\n\t\t\t// wordsPerSentence(window.nlp(paragraph).sentences().data().length, i , x, window.nlp(paragraph).sentences().data());\n\t\t});\n\n\t\tparagrahTable[i].sentencesPerParagraph = test;\n\t\tvar container = document.querySelector('.test');\n\t\tcontainer.innerHTML = JSON.stringify(paragrahTable);\n\t});\n}\n\nfunction wordsPerSentence(lenght, i, x, sentences) {\n\t// wordLengthsTable[i][x]\n\tObject.keys(sentences).forEach((z) => {\n\t\tvar normalisedSentence = sentences[z].normal;\n\t\tvar words = normalisedSentence.split(\" \");\n\n\t\twordLengthsTable[i].wordCountsPerSentence[x][z] = words.length;\n\t\t// console.log(i, x, lenght, words.length);\n\t});\n\n\tconsole.log(wordLengthsTable);\n\tvar container = document.querySelector('.test');\n\tcontainer.innerHTML = JSON.stringify(wordLengthsTable);\n}\n\nfunction words(sentenceArray, storyIndex, raw) {\n\tvar totalCount = 0;\n\n\t// per zin \n\tObject.keys(sentenceArray).forEach((i) => {\n\t\tvar target = 'devil';\n\t\tvar sentence = sentenceArray[i];\n\n\t\tvar regex = new RegExp('\\\\b(' + target + ')\\\\b', 'ig', 'a');\n\t\tvar countOccurances = ((sentence || '').match(regex) || []).length;\n\t\t\n\t\t// console.log(i, countOccurances, sentence);\n\t\tconsole.log(storyIndex);\n\n\t\tvar words = sentence.split(\" \");\n\n\t\t// stories[storyIndex].sentences.push({\n\t\t// \tsentence: sentence,\n\t\t// \tindex: i,\n\t\t// \ttarget: target,\n\t\t// \tcount: countOccurances,\n\t\t// \twordCount: WordCount(sentence),\n\t\t// \twords: words,\n\t\t// \twordCounts: []\n\t\t// });\n\n\t\ttotalCount += countOccurances;\n\n\t\twordLengthsTable[storyIndex][i] = [];\n\t\tvar testWords = [];\n\t\twordLengthsTable[storyIndex][i].push(words.length);\n\t\t// words.forEach((word, wordI) => {\n\t\t// \twordLengthsTable[storyIndex][i].push(word.length);\n\t\t// });\n\n\t// \n\t// \n\t// \n\t\t\n\n\t\t// console.log(response);\n\n\t\tvar tempWordArray = [];\n\t\t\n\t\tsentenceTable[storyIndex].wordCountPerSentence.push(words.length);\n\n\t\twordTable[storyIndex].wordCountPerSentence.push(words.length);\n\t\twordTable[storyIndex].wordsPerSentence.push(words);\n\n\t\t// words.forEach((word) => {\n\t\t// \twordTable[storyIndex].lengthPerWords.push(word.length);\n\t\t// \ttempWordArray.push(word.length);\n\t\t// });\n\n\t\t// wordTable[storyIndex] = {\n\t\t// \tstoryId: storyIndex,\n\t\t// \twordCount: WordCount(sentence),\n\t\t// \twords: words,\n\t\t// \twordLength: tempWordArray,\n\t\t// }\n\t});\n\n\t// stories[storyIndex].totalCount = totalCount;\n}\n\nfunction WordCount(str) { \n  return str.split(\" \").length;\n}\n\nfunction drawTable(storyId, count) {\n\tvar table = document.querySelector('table');\n\n\tvar listItem = document.createElement(\"tr\");\n\n\tvar rowContent = `\n\t\t<td>\n\t\t\t${storyId}\n\t\t</td>\n\t\t<td>\n\t\t\t${count}\n\t\t</td>\n\t`;\n\n\tlistItem.innerHTML = rowContent;\n\n\ttable.appendChild(listItem);\n}"],"sourceRoot":""}